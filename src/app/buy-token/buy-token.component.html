<app-header></app-header>

<section class="hero transfer">
  <div class="container-xs">
    <div class="balances-wrapper">
      <div class="top">
        <h3>Buy: {{ transferService.currentToken.name }} {{ transferService.currentToken.symbol }}</h3>
        <h4>Price: {{ transferService.currentToken.ethPrice }}ETH Â· {{ transferService.currentToken.usdPrice | currency:'USD' }}USD</h4>
      </div>
      <div class="middle">
        <fieldset class="form-group amount-input">
          <label for="">* Amount of <strong class="text-white underline">{{ transferService.currentToken.symbol }}</strong> tokens to buy:</label>
          <input
            [(ngModel)]="transferService.transfer.amount"
            type="text"
            class="form-control"
            placeholder="1.0">
        </fieldset>
        <div class="row">
          <div class="col-sm-6">
            <fieldset class="form-group gas-limit-input">
              <label for="">Gas limit:</label>
              <input
                [(ngModel)]="transferService.transfer.gasLimit"
                type="text"
                class="form-control"
                placeholder="21000">
            </fieldset>
          </div>
          <div class="col-sm-6">
            <fieldset class="form-group gas-price-input">
              <label for="">Gas price (in ETH):</label>
              <input
                [(ngModel)]="transferService.transfer.gasPrice"
                type="text"
                class="form-control"
                placeholder="4">
            </fieldset>
          </div>
        </div>
        <fieldset class="text-right">
          <button
            (click)="transferService.buyTokensFrom()"
            class="btn btn-success btn-block btn-lg">Buy</button>
        </fieldset>
        <div class="alert alert-danger text-white" role="alert" *ngIf="transferService.purchaseFailed">
          <p><i class="icon-notification"></i> There was an error with your transaction. Please review your inputs and try again.</p>
        </div>
      </div>
      <div class="bottom">
        <span class="address d-inline-block text-truncate" style="max-width: 280px;">Address: {{ eth.wallet.address }}</span>
      </div>
    </div>
  </div>
</section>

<footer class="footer"></footer>
